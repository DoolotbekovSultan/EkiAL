# üíâ di/

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `di` —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Dependency Injection (–≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GetIt –≤ –∫–∞—á–µ—Å—Ç–≤–µ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ Injectable –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
di/
‚îú‚îÄ‚îÄ injector.dart              # üéØ –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω–∂–µ–∫—Ç–æ—Ä
‚îú‚îÄ‚îÄ app_module.dart            # üì± –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ injector.config.dart       # ‚öôÔ∏è –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ feature_modules/           # üöÄ –ú–æ–¥—É–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∏—á
    ‚îú‚îÄ‚îÄ auth_module.dart       # üîê –ú–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
    ‚îî‚îÄ‚îÄ user_module.dart       # üë§ –ú–æ–¥—É–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

## üìÑ –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### üéØ injector.dart

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä GetIt –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –§—É–Ω–∫—Ü–∏—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—é –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å GetIt
- –ö–ª–∞—Å—Å-–æ–±–µ—Ä—Ç–∫—É DI –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `getIt` - –≥–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä GetIt
- `configureDependencies()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è DI —Å–∏—Å—Ç–µ–º—ã
- `GetItExtensions` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- `DI` - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å DI
- `DITestUtils` - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `Environments` - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–∫—Ä—É–∂–µ–Ω–∏–π

**–ú–µ—Ç–æ–¥—ã:**
- `configureDependencies()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `GetItExtensions.tryGet<T>()` - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `GetItExtensions.getOrDefault<T>()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `DI.get<T>()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `DI.tryGet<T>()` - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ
- `DI.has<T>()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- `DITestUtils.reset()` - —Å–±—Ä–æ—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```dart
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ main.dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await configureDependencies(environment: Environment.dev);
  runApp(MyApp());
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
final dio = getIt<Dio>();
final authRepository = DI.get<AuthRepository>();

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ
final service = DI.tryGet<MyService>();
if (service != null) {
  // –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
if (DI.has<AuthService>()) {
  final auth = DI.get<AuthService>();
}
```

---

### üì± app_module.dart

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é HTTP –∫–ª–∏–µ–Ω—Ç–∞ (Dio)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (SharedPreferences)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Å–µ—Ç–∏ (Connectivity)
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ª–æ–≥–≥–µ—Ä–∞ (Log)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
- –ö–ª—é—á–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `AppModule` - –≥–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `StorageModule` - –º–æ–¥—É–ª—å –¥–ª—è –∫–ª—é—á–µ–π —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- `UtilsModule` - –º–æ–¥—É–ª—å –¥–ª—è —É—Ç–∏–ª–∏—Ç (–∑–∞–≥–ª—É—à–∫–∞)

**–ú–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞:**
- `dio` - HTTP –∫–ª–∏–µ–Ω—Ç (singleton)
- `prefs` - SharedPreferences (preResolve)
- `connectivity` - Connectivity (singleton)
- `logger` - Log (singleton)
- `apiKey` - API –∫–ª—é—á –∏–∑ environment
- `analyticsEnabled` - —Ñ–ª–∞–≥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```dart
// –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
final dio = getIt<Dio>();
final prefs = await getIt.getAsync<SharedPreferences>();
final connectivity = getIt<Connectivity>();
final logger = getIt<Log>();
```

---

### ‚öôÔ∏è injector.config.dart

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Injectable.

**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –†–µ–∑–æ–ª–≤–∏–Ω–≥ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –§–∞–±—Ä–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –≠—Ç–æ—Ç —Ñ–∞–π–ª –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é.

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:**
```bash
flutter pub run build_runner build
# –∏–ª–∏ –¥–ª—è watch —Ä–µ–∂–∏–º–∞
flutter pub run build_runner watch
```

---

### üöÄ feature_modules/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –º–æ–¥—É–ª–µ–π –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∏—á –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–°–æ–¥–µ—Ä–∂–∏—Ç –º–æ–¥—É–ª–∏ –¥–ª—è:**
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (auth_module.dart)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (user_module.dart)
- –ü—Ä–æ–¥—É–∫—Ç–æ–≤ (product_module.dart)
- –ò –¥—Ä—É–≥–∏—Ö —Ñ–∏—á

**–ü—Ä–∏–º–µ—Ä –º–æ–¥—É–ª—è:**
```dart
@module
abstract class AuthModule {
  @singleton
  AuthRepository get authRepository => AuthRepositoryImpl(getIt());
  
  @factory
  LoginUseCase get loginUseCase => LoginUseCase(getIt());
  
  @factory
  AuthBloc get authBloc => AuthBloc(getIt());
}
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ **–õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–º–µ–Ω—ã mock –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–µ–∑–æ–ª–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏–π** - —Ä–∞–∑–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è dev/prod
- ‚úÖ **Type-safe** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

## üìö Best Practices

1. **–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö feature –º–æ–¥—É–ª—è—Ö
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ @singleton** –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (Dio, Log, Database)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ @factory** –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ BLoC (—Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä)
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ @lazySingleton** –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏)
5. **–î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ @preResolve (SharedPreferences)
6. **–†–∞–∑–¥–µ–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –º–æ–¥—É–ª—è–º
7. **–ò–∑–±–µ–≥–∞–π—Ç–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
8. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ @Named** –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞
9. **–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º** –∏—Å–ø–æ–ª—å–∑—É—è @dev, @prod, @test
10. **–í—Å–µ–≥–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ DI** –≤ main() –ø–µ—Ä–µ–¥ runApp()

## üéØ –¢–∏–ø—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### @singleton
–û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –°–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏.

```dart
@singleton
Dio get dio => Dio();
```

### @lazySingleton
–õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è. –°–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è.

```dart
@lazySingleton
DatabaseService get databaseService => DatabaseService();
```

### @factory
–ù–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –∏ BLoC.

```dart
@factory
AuthBloc get authBloc => AuthBloc(getIt());
```

### @preResolve
–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è SharedPreferences.

```dart
@preResolve
Future<SharedPreferences> get prefs => SharedPreferences.getInstance();
```

### @Named
–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ —Å –∏–º–µ–Ω–∞–º–∏.

```dart
@Named("baseUrl")
@dev
String get devBaseUrl => 'https://dev.api.com';

@Named("baseUrl")
@prod
String get prodBaseUrl => 'https://api.com';
```

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

- `app/config/app_config.dart` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `core/network/dio_client.dart` - HTTP –∫–ª–∏–µ–Ω—Ç
- `core/utils/log_utils.dart` - –ª–æ–≥–≥–µ—Ä

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ main.dart

```dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è DI
  await configureDependencies(
    environment: Environment.dev,
  );
  
  runApp(MyApp());
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

```dart
@injectable
class UserRepositoryImpl implements UserRepository {
  final Dio dio;
  final Log logger;
  
  UserRepositoryImpl(this.dio, this.logger);
  
  @override
  Future<User> getUser(String id) async {
    // –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ BLoC

```dart
@injectable
class AuthBloc extends Bloc<AuthEvent, AuthState> {
  final LoginUseCase loginUseCase;
  final Log logger;
  
  AuthBloc(this.loginUseCase, this.logger) : super(AuthInitial());
  
  // –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ use case
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –≤–∏–¥–∂–µ—Ç–µ

```dart
class UserListWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    final userRepository = DI.get<UserRepository>();
    
    return FutureBuilder(
      future: userRepository.getUsers(),
      builder: (context, snapshot) {
        // –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ UI
      },
    );
  }
}
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å mock –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

```dart
void main() {
  setUp(() {
    // –°–±—Ä–æ—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    DITestUtils.reset();
    
    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è mock –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    DITestUtils.registerMocks({
      UserRepository: MockUserRepository(),
      Dio: MockDio(),
    });
  });
  
  test('should get user', () async {
    final repository = DI.get<UserRepository>();
    // —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  });
}
```

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- **get_it** - DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- **injectable** - –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **build_runner** - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. **–°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª–∏** —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
2. **–ü–æ–º–µ—Ç–∏—Ç—å –∫–ª–∞—Å—Å—ã** –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ (@injectable, @singleton –∏ —Ç.–¥.)
3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–¥–∞:**
   ```bash
   flutter pub run build_runner build
   ```
4. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å DI** –≤ main.dart:
   ```dart
   await configureDependencies();
   ```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∫–æ–¥–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π
- –ù–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ injector.config.dart –≤—Ä—É—á–Ω—É—é
- –ò–∑–±–µ–≥–∞–π—Ç–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥—É–ª—è—Ö
