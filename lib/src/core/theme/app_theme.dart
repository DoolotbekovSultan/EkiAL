// ================================
// üéØ APP THEME - –û–°–ù–û–í–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –¢–ï–ú
// ================================

import 'package:flutter/material.dart';
import 'light_theme.dart';
import 'dark_theme.dart';
import 'theme_controller.dart';

/// üéØ –û–°–ù–û–í–ù–û–ô –ö–õ–ê–°–° –î–õ–Ø –£–ü–†–ê–í–õ–ï–ù–ò–Ø –¢–ï–ú–ê–ú–ò –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
///
/// –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ç–µ–º–∞–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
/// –∏ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–º–∞–º–∏.
///
/// ## üéØ –õ–£–ß–®–ò–ï –ü–†–ê–ö–¢–ò–ö–ò –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø:
/// - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ AppTheme.themes –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫–æ –≤—Å–µ–º —Ç–µ–º–∞–º
/// - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ AppTheme.controller –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–∞–º–∏
/// - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Theme.of(context) –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–µ–º–µ –≤ –≤–∏–¥–∂–µ—Ç–∞—Ö
/// - ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö (light/dark)
/// - ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≤—ã–±–æ—Ä —Ç–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ ThemeController
class AppTheme {
  AppTheme._();

  // ================================
  // üéØ –î–û–°–¢–£–ü –ö –¢–ï–ú–ê–ú
  // ================================

  /// üåü –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  ///
  /// ## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
  /// - –Ø—Ä–∫–∏–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  /// - –í—ã—Å–æ–∫–∞—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
  /// - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Material Design 3
  static ThemeData get light => LightTheme.themeData;

  /// üåô –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  ///
  /// ## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
  /// - –ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–≥–æ –Ω–æ—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  /// - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å –¥–ª—è readability
  /// - –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Material Design 3
  static ThemeData get dark => DarkTheme.themeData;

  // ================================
  // üéõÔ∏è –ö–û–ù–¢–†–û–õ–õ–ï–† –¢–ï–ú–´
  // ================================

  /// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  ///
  /// ## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
  /// ```dart
  /// final themeController = AppTheme.controller;
  /// await themeController.loadThemeMode();
  /// ```
  static final ThemeController controller = ThemeController();

  // ================================
  // üõ†Ô∏è –£–¢–ò–õ–ò–¢–ù–´–ï –ú–ï–¢–û–î–´
  // ================================

  /// –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ Brightness
  ///
  /// ## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
  /// - –î–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º
  /// - –î–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π
  static ThemeData fromBrightness(Brightness brightness) {
    return brightness == Brightness.dark ? dark : light;
  }

  /// –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ ThemeMode
  ///
  /// ## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
  /// - –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å ThemeController
  /// - –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ system theme mode
  static ThemeData fromThemeMode(
    ThemeMode themeMode,
    Brightness platformBrightness,
  ) {
    switch (themeMode) {
      case ThemeMode.light:
        return light;
      case ThemeMode.dark:
        return dark;
      case ThemeMode.system:
        return fromBrightness(platformBrightness);
    }
  }

  /// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–º–∞ —Ç–µ–º–Ω–æ–π
  ///
  /// ## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
  /// - –î–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
  /// - –î–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ —Ü–≤–µ—Ç–æ–≤
  static bool isDark(ThemeData theme) {
    return theme.brightness == Brightness.dark;
  }

  /// –°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é —Ç–µ–º—ã —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏
  ///
  /// ## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
  /// - –î–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ —Ç–µ–º—ã
  /// - –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö —Ç–µ–º
  static ThemeData copyWith({
    required ThemeData baseTheme,
    ColorScheme? colorScheme,
    TextTheme? textTheme,
    AppBarTheme? appBarTheme,
  }) {
    return baseTheme.copyWith(
      colorScheme: colorScheme,
      textTheme: textTheme,
      appBarTheme: appBarTheme,
    );
  }
}
